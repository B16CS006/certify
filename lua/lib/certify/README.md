Entire lib.lua need sto be broken into simple components

Components to reside in this directory